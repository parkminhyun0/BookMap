<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ“š BookMap - ë„ì„œ ë“±ë¡</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background:#fafafa; }
    form { max-width: 500px; background:#fff; padding:20px; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
    h2 { margin-bottom:20px; }
    label { display:block; margin:10px 0 5px; font-weight:bold; }
    input, select, textarea {
      width:100%; padding:10px; border:1px solid #ddd; border-radius:6px; font-size:14px;
    }
    button {
      margin-top:15px; padding:10px 16px; border:none; background:#1a73e8; color:#fff; border-radius:6px;
      font-size:15px; cursor:pointer;
    }
    button:hover { background:#155ab6; }
  </style>
</head>
<body>
  <h2>ğŸ“š ë„ì„œ ë“±ë¡</h2>
  <form id="bookForm">
    <label>ì œëª©</label>
    <input type="text" name="title" required />

    <label>ì €ì</label>
    <input type="text" name="author" required />

    <label>ì¹´í…Œê³ ë¦¬</label>
    <select name="category" required>
      <option>ì² í•™</option>
      <option>ì—­ì‚¬</option>
      <option>ë¬¸í•™/ë¹„í‰</option>
      <option>ì˜ˆìˆ /ë¯¸í•™</option>
      <option>ì¢…êµ</option>
      <option>ì‹¬ë¦¬í•™</option>
      <option>ê¸°íƒ€</option>
    </select>

    <label>ë‚œì´ë„</label>
    <select name="level">
      <option>ì…ë¬¸</option>
      <option>ì´ˆê¸‰</option>
      <option>ì¤‘ê¸‰</option>
      <option>ê³ ê¸‰</option>
      <option>ì „ë¬¸</option>
    </select>

    <label>ì¶”ì²œ ì´ìœ </label>
    <textarea name="reason"></textarea>

    <label>ë„ì„œ ë§í¬</label>
    <input type="url" name="link" />

    <label>í‘œì§€ ì´ë¯¸ì§€ URL</label>
    <input type="url" name="cover" />

    <button type="submit">ë“±ë¡í•˜ê¸°</button>
  </form>

  <script>
    // Google Apps Script Web App URL
    const API_URL = "https://script.google.com/macros/s/ì—¬ê¸°ì—_ë³¸ì¸_WebApp_URL/exec";

    document.getElementById("bookForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      const formData = Object.fromEntries(new FormData(e.target).entries());

      try {
        const res = await fetch(API_URL, {
          method: "POST",
          body: JSON.stringify({ action: "submit", entry: formData }),
          headers: { "Content-Type": "application/json" }
        });
        const data = await res.json();
        if (data.ok) {
          alert("ë„ì„œê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!");
          e.target.reset();
        } else {
          alert("ë“±ë¡ ì‹¤íŒ¨: " + JSON.stringify(data));
        }
      } catch (err) {
        alert("ì˜¤ë¥˜ ë°œìƒ: " + err);
      }
    });
  </script>
</body>
</html>
